language: node_js
sudo: false
node_js:
  - '10'
  - '12'
  - 'stable'
before_script:
  - npm install socket.io --save-dev
script:
  # Run test script
  - npm run test:cov
  # Run linting
  - npm run lint
after_script:
  - |
    # Upload coverage to coveralls
    npm install --save-dev coveralls
    coveralls < ./coverage/lcov.info
git:
  depth: 1
cache:
  directories:
    - node_modules